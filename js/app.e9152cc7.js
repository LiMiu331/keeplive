(function(t){function e(e){for(var n,i,c=e[0],s=e[1],u=e[2],f=0,v=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(e);while(v.length)v.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,c=1;c<a.length;c++){var s=a[c];0!==r[s]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/keeplive/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"02d0":function(t,e,a){"use strict";var n=a("5300"),r=a.n(n);r.a},"0f01":function(t,e,a){},"3a48":function(t,e,a){"use strict";var n=a("e0d2"),r=a.n(n);r.a},"4c4d":function(t,e,a){"use strict";var n=a("6f39"),r=a.n(n);r.a},5300:function(t,e,a){},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},"6f39":function(t,e,a){},"73b3":function(t,e,a){},"9c0c":function(t,e,a){},ad48:function(t,e,a){"use strict";var n=a("0f01"),r=a.n(n);r.a},be12:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],i=(a("5c0b"),a("2877")),c={},s=Object(i["a"])(c,r,o,!1,null,null,null),u=s.exports,l=a("9483");Object(l["a"])("".concat("/keeplive/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var f=a("8c4f"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("这是404页面")])},d=[],p=a("d4ec"),b=a("262e"),g=a("2caf"),m=a("9ab4"),h=a("60a3"),O=function(t){Object(b["a"])(a,t);var e=Object(g["a"])(a);function a(){return Object(p["a"])(this,a),e.apply(this,arguments)}return a}(n["a"]);O=Object(m["a"])([h["a"]],O);var y=O,j=y,_=Object(i["a"])(j,v,d,!1,null,"27819518",null),k=_.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("van-nav-bar",{attrs:{title:"keep记账"}}),a("tabs",{attrs:{"class-prefix":"type","data-source":t.recordTypeList,value:t.type},on:{"update:value":function(e){t.type=e}}}),t.groupedList.length>0?a("ol",t._l(t.groupedList,(function(e,n){return a("li",{key:n},[a("h3",{staticClass:"title"},[t._v(t._s(t.beautify(e.title))+" "),a("span",[t._v("¥"+t._s(e.total))])]),a("ol",t._l(e.items,(function(e){return a("li",{key:e.id,staticClass:"record"},[a("span",[t._v(t._s(t.tagString(e.tags)))]),a("span",{staticClass:"notes"},[t._v(t._s(e.notes))]),a("span",[t._v("¥"+t._s(e.amount))])])})),0)])})),0):a("div",{staticClass:"no-result"},[t._v(" 好好记账 慢慢成长 ")])],1)},C=[],w=(a("4de4"),a("a15b"),a("d81d"),a("13d5"),a("b0c0"),a("bee2")),L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-wrapper"},[a("div",{staticClass:"content"},[t._t("default")],2),a("Nav")],1)},x=[],$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-tabbar",{attrs:{route:""}},[a("van-tabbar-item",{attrs:{replace:"",to:"/money",icon:"gold-coin-o"}},[t._v("记账")]),a("van-tabbar-item",{attrs:{replace:"",to:"/label",icon:"label-o"}},[t._v("标签")]),a("van-tabbar-item",{attrs:{replace:"",to:"/statistics",icon:"chart-trending-o"}},[t._v("统计")])],1)},S=[],N=function(t){Object(b["a"])(a,t);var e=Object(g["a"])(a);function a(){return Object(p["a"])(this,a),e.apply(this,arguments)}return a}(n["a"]);N=Object(m["a"])([h["a"]],N);var P=N,E=P,M=Object(i["a"])(E,$,S,!1,null,"ac39e554",null),Y=M.exports,A=function(t){Object(b["a"])(a,t);var e=Object(g["a"])(a);function a(){return Object(p["a"])(this,a),e.apply(this,arguments)}return a}(n["a"]);A=Object(m["a"])([Object(h["a"])({components:{Nav:Y}})],A);var R=A,I=R,J=Object(i["a"])(I,L,x,!1,null,"12b1d151",null),D=J.exports,B=function(){var t,e=this,a=e.$createElement,n=e._self._c||a;return n("ul",{staticClass:"tabs",class:(t={},t[e.classPrefix+"-tabs"]=e.classPrefix,t)},e._l(e.dataSource,(function(t){return n("li",{key:t.value,staticClass:"tabs-item",class:e.liClass(t),on:{click:function(a){return e.select(t)}}},[e._v(e._s(t.text))])})),0)},F=[],q=a("ade3"),z=function(t){Object(b["a"])(a,t);var e=Object(g["a"])(a);function a(){return Object(p["a"])(this,a),e.apply(this,arguments)}return Object(w["a"])(a,[{key:"liClass",value:function(t){return Object(q["a"])({selected:t.value===this.value},this.classPrefix+"-tabs-item",this.classPrefix)}},{key:"select",value:function(t){this.$emit("update:value",t.value)}}]),a}(n["a"]);Object(m["a"])([Object(h["b"])({required:!0,type:Array})],z.prototype,"dataSource",void 0),Object(m["a"])([Object(h["b"])(String)],z.prototype,"value",void 0),Object(m["a"])([Object(h["b"])(String)],z.prototype,"classPrefix",void 0),z=Object(m["a"])([h["a"]],z);var U=z,V=U,G=(a("cd8d"),Object(i["a"])(V,B,F,!1,null,"1db64780",null)),H=G.exports,K=[{text:"支出",value:"-"},{text:"收入",value:"+"}],Q=K,W=a("5a0c"),X=a.n(W);function Z(t){return JSON.parse(JSON.stringify(t))}var tt=Z,et=function(t){Object(b["a"])(a,t);var e=Object(g["a"])(a);function a(){var t;return Object(p["a"])(this,a),t=e.apply(this,arguments),t.type="-",t.recordTypeList=Q,t}return Object(w["a"])(a,[{key:"tagString",value:function(t){return 0===t.length?"无":t.map((function(t){return t.name})).join("，")}},{key:"beautify",value:function(t){var e=X()(t),a=X()();return e.isSame(a,"day")?"今天":e.isSame(a.subtract(1,"day"),"day")?(console.log("hi"),"昨天"):e.isSame(a.subtract(2,"day"),"day")?"前天":e.isSame(a,"year")?e.format("M月D日"):e.format("YYYY年M月D日")}},{key:"beforeCreate",value:function(){this.$store.commit("fetchRecords")}},{key:"recordList",get:function(){return this.$store.state.recordList}},{key:"groupedList",get:function(){var t=this,e=this.recordList,a=tt(e).filter((function(e){return e.type===t.type})).sort((function(t,e){return X()(e.createdAt).valueOf()-X()(t.createdAt).valueOf()}));if(0===a.length)return[];for(var n=[{title:X()(a[0].createdAt).format("YYYY-MM-DD"),items:[a[0]]}],r=1;r<a.length;r++){var o=a[r],i=n[n.length-1];X()(i.title).isSame(X()(o.createdAt),"day")?i.items.push(o):n.push({title:X()(o.createdAt).format("YYYY-MM-DD"),items:[o]})}return n.map((function(t){t.total=t.items.reduce((function(t,e){return console.log(t),console.log(e),t+e.amount}),0)})),n}}]),a}(n["a"]);et=Object(m["a"])([Object(h["a"])({components:{Tabs:H,Layout:D}})],et);var at=et,nt=at,rt=(a("ad48"),Object(i["a"])(nt,T,C,!1,null,"d25dc7e6",null)),ot=rt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Layout",[a("van-nav-bar",{attrs:{title:"keep记账"}}),a("div",{staticClass:"tags"},t._l(t.tags,(function(e){return a("router-link",{key:e.id,staticClass:"tag",attrs:{to:"/label/edit/"+e.id}},[a("span",[t._v(t._s(e.name))]),a("van-icon",{attrs:{name:"arrow"}})],1)})),1),a("div",{staticClass:"button-wrapper"},[a("van-button",{staticClass:"create-tag",attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:t.createTag}},[t._v("新建标签")])],1)],1)],1)},ct=[],st=a("2fe1"),ut=function(t){Object(b["a"])(a,t);var e=Object(g["a"])(a);function a(){return Object(p["a"])(this,a),e.apply(this,arguments)}return Object(w["a"])(a,[{key:"createTag",value:function(){var t=window.prompt("请输入标签名");if(!t)return window.alert("标签名不能为空");this.$store.commit("createTag",t)}}]),a}(n["a"]);ut=Object(m["a"])([st["b"]],ut);var lt=ut,ft=function(t){Object(b["a"])(a,t);var e=Object(g["a"])(a);function a(){return Object(p["a"])(this,a),e.apply(this,arguments)}return Object(w["a"])(a,[{key:"created",value:function(){this.$store.commit("fetchTags")}},{key:"tags",get:function(){return this.$store.state.tagList}}]),a}(Object(st["c"])(lt));ft=Object(m["a"])([Object(h["a"])({components:{Layout:D}})],ft);var vt=ft,dt=vt,pt=(a("fd0e"),Object(i["a"])(dt,it,ct,!1,null,"895fec8e",null)),bt=pt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Layout",[a("div",{staticClass:"money-wrapper"},[a("NumberPad",{attrs:{value:t.record.amount},on:{"update:value":function(e){return t.$set(t.record,"amount",e)},submit:t.saveRecord}}),a("Tabs",{attrs:{"data-source":t.recordTypeList,value:t.record.type},on:{"update:value":function(e){return t.$set(t.record,"type",e)}}}),a("Note",{on:{"update:value":t.onUpdateNotes}}),a("Tags",{on:{"update:value":function(e){t.record.tags=e}}})],1)])],1)},mt=[],ht=(a("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"numberPad"},[a("div",{staticClass:"output"},[t._v(t._s(t.output))]),a("div",{staticClass:"buttons"},[a("button",{on:{click:t.inputContent}},[t._v("1")]),a("button",{on:{click:t.inputContent}},[t._v("2")]),a("button",{on:{click:t.inputContent}},[t._v("3")]),a("button",{on:{click:t.remove}},[t._v("删除")]),a("button",{on:{click:t.inputContent}},[t._v("4")]),a("button",{on:{click:t.inputContent}},[t._v("5")]),a("button",{on:{click:t.inputContent}},[t._v("6")]),a("button",{on:{click:t.clear}},[t._v("清空")]),a("button",{on:{click:t.inputContent}},[t._v("7")]),a("button",{on:{click:t.inputContent}},[t._v("8")]),a("button",{on:{click:t.inputContent}},[t._v("9")]),a("button",{staticClass:"ok",on:{click:t.ok}},[t._v("ok")]),a("button",{staticClass:"zero",on:{click:t.inputContent}},[t._v("0")]),a("button",{on:{click:t.inputContent}},[t._v(".")])])])}),Ot=[],yt=(a("c975"),a("fb6a"),a("d3b7"),a("25f0"),a("f564")),jt=function(t){Object(b["a"])(a,t);var e=Object(g["a"])(a);function a(){var t;return Object(p["a"])(this,a),t=e.apply(this,arguments),t.output=t.value.toString(),t}return Object(w["a"])(a,[{key:"inputContent",value:function(t){var e=t.target,a=e.textContent;16!==this.output.length&&("0"!==this.output?this.output.indexOf(".")>=0&&"."===a||(this.output+=a):"0123456789".indexOf(a)>=0?this.output=a:this.output+=a)}},{key:"remove",value:function(){1===this.output.length?this.output="0":this.output=this.output.slice(0,-1)}},{key:"clear",value:function(){this.output="0"}},{key:"ok",value:function(){var t=parseFloat(this.output);this.$emit("update:value",t),this.$emit("submit",t),this.output="0",Object(yt["a"])({type:"primary",message:"保存成功"})}}]),a}(n["a"]);Object(m["a"])([Object(h["b"])()],jt.prototype,"value",void 0),jt=Object(m["a"])([h["a"]],jt);var _t=jt,kt=_t,Tt=(a("3a48"),Object(i["a"])(kt,ht,Ot,!1,null,"7bca5edf",null)),Ct=Tt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"note"},[a("van-field",{attrs:{label:"备注：","left-icon":"smile-o",placeholder:"请在这里输入备注  ✍️"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},Lt=[],xt=function(t){Object(b["a"])(a,t);var e=Object(g["a"])(a);function a(){var t;return Object(p["a"])(this,a),t=e.apply(this,arguments),t.value="",t}return Object(w["a"])(a,[{key:"onValueChanged",value:function(t){this.$emit("update:value",t)}}]),a}(n["a"]);Object(m["a"])([Object(h["c"])("value")],xt.prototype,"onValueChanged",null),xt=Object(m["a"])([h["a"]],xt);var $t=xt,St=$t,Nt=Object(i["a"])(St,wt,Lt,!1,null,"78fe0655",null),Pt=Nt.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tags"},[t._l(t.tagList,(function(e){return a("van-tag",{key:e.id,staticClass:"van-tag",class:{selected:t.selectedTags.indexOf(e)>=0},attrs:{round:"",plain:"",size:"large",type:"primary"},on:{click:function(a){return t.toggle(e)}}},[t._v(" "+t._s(e.name)+" ")])})),a("div",[a("button",{staticClass:"new-tag",on:{click:t.createTag}},[t._v("新增标签")])])],2)},Mt=[],Yt=(a("a434"),function(t){Object(b["a"])(a,t);var e=Object(g["a"])(a);function a(){var t;return Object(p["a"])(this,a),t=e.apply(this,arguments),t.selectedTags=[],t}return Object(w["a"])(a,[{key:"toggle",value:function(t){var e=this.selectedTags.indexOf(t);this.selectedTags.indexOf(t)>=0?this.selectedTags.splice(e,1):this.selectedTags.push(t),this.$emit("update:value",this.selectedTags)}},{key:"tagList",get:function(){return this.$store.state.tagList}}]),a}(Object(st["c"])(lt)));Yt=Object(m["a"])([Object(h["a"])({created:function(){this.$store.commit("fetchTags")}})],Yt);var At=Yt,Rt=At,It=(a("f2d4"),Object(i["a"])(Rt,Et,Mt,!1,null,"046f8aac",null)),Jt=It.exports,Dt=function(t){Object(b["a"])(a,t);var e=Object(g["a"])(a);function a(){var t;return Object(p["a"])(this,a),t=e.apply(this,arguments),t.recordTypeList=Q,t.record={tags:[],notes:"",type:"-",amount:0},t}return Object(w["a"])(a,[{key:"created",value:function(){this.$store.commit("fetchRecords")}},{key:"onUpdateNotes",value:function(t){this.record.notes=t}},{key:"saveRecord",value:function(){this.$store.commit("createRecord",this.record)}},{key:"recordList",get:function(){return this.$store.state.recordList}}]),a}(n["a"]);Object(m["a"])([Object(h["b"])(Number)],Dt.prototype,"value",void 0),Dt=Object(m["a"])([Object(h["a"])({components:{Tabs:H,Tags:Jt,Note:Pt,NumberPad:Ct,Layout:D}})],Dt);var Bt=Dt,Ft=Bt,qt=(a("4c4d"),Object(i["a"])(Ft,gt,mt,!1,null,"53b0b71e",null)),zt=qt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("van-nav-bar",{attrs:{title:"编辑标签","left-arrow":"","left-text":"返回"},on:{"click-left":t.goBack}}),a("van-field",{attrs:{label:"标签名",placeholder:"请输入标签名","left-icon":"smile-comment-o",value:t.CurrentTag.name},on:{input:t.updateTag}}),a("div",{staticClass:"button-wrapper"},[a("van-button",{staticClass:"remove-tag",attrs:{round:"",color:"linear-gradient(to right, #4bb0ff, #6149f6)"},on:{click:t.removeTag}},[t._v(" 删除标签 ")])],1)],1)},Vt=[],Gt=(a("ac1f"),a("5319"),function(t){Object(b["a"])(a,t);var e=Object(g["a"])(a);function a(){return Object(p["a"])(this,a),e.apply(this,arguments)}return Object(w["a"])(a,[{key:"created",value:function(){var t=this.$route.params.id;this.$store.commit("fetchTags"),this.$store.commit("setCurrentTag",t),this.CurrentTag||this.$router.replace("/404")}},{key:"updateTag",value:function(t){this.CurrentTag&&this.$store.commit("updateTag",{id:this.CurrentTag.id,name:t})}},{key:"removeTag",value:function(){this.CurrentTag&&(this.$store.commit("removeTag",this.CurrentTag.id),this.$router.back())}},{key:"goBack",value:function(){this.$router.back()}},{key:"CurrentTag",get:function(){return this.$store.state.currentTag}}]),a}(n["a"]));Gt=Object(m["a"])([Object(h["a"])({components:{Layout:D}})],Gt);var Ht=Gt,Kt=Ht,Qt=(a("02d0"),Object(i["a"])(Kt,Ut,Vt,!1,null,"35ee4c5e",null)),Wt=Qt.exports;n["a"].use(f["a"]);var Xt=[{path:"/",component:zt},{path:"/money",name:"Money",component:zt},{path:"/label",name:"label",component:bt},{path:"/statistics",name:"statistics",component:ot},{path:"/label/edit/:id",component:Wt},{path:"*",component:k}],Zt=new f["a"]({routes:Xt}),te=Zt,ee=a("2f62"),ae=parseInt(window.localStorage.getItem("_idMax")||"0")||0;function ne(){return ae++,window.localStorage.setItem("_idMax",ae.toString()),ae}var re=ne;n["a"].use(ee["a"]);var oe=new ee["a"].Store({state:{recordList:[],tagList:[],currentTag:void 0},mutations:{setCurrentTag:function(t,e){t.currentTag=t.tagList.filter((function(t){return t.id===e}))[0]},updateTag:function(t,e){var a=e.id,n=e.name,r=t.tagList.map((function(t){return t.id}));if(r.indexOf(a)>=0){var o=t.tagList.map((function(t){return t.name}));if(o.indexOf(n)>=0)window.alert("标签名重复了");else{var i=t.tagList.filter((function(t){return t.id===a}))[0];i.name=n,oe.commit("saveTags")}}},removeTag:function(t,e){for(var a=-1,n=0;n<t.tagList.length;n++)if(t.tagList[n].id===e){a=n;break}t.tagList.splice(a,1),oe.commit("saveTags")},fetchRecords:function(t){t.recordList=JSON.parse(window.localStorage.getItem("recordList")||"[]")},createRecord:function(t,e){var a=tt(e);a.createdAt=(new Date).toISOString(),t.recordList.push(a),oe.commit("saveRecords")},saveRecords:function(t){window.localStorage.setItem("recordList",JSON.stringify(t.recordList))},fetchTags:function(t){t.tagList=JSON.parse(window.localStorage.getItem("tagList")||"[]"),t.tagList&&0!==t.tagList.length||(oe.commit("createTag","喝可乐"),oe.commit("createTag","坐车"),oe.commit("createTag","买周边"),oe.commit("createTag","买衣服"))},createTag:function(t,e){var a=t.tagList.map((function(t){return t.name}));a.indexOf(e)>=0&&window.alert("标签名重复了");var n=re().toString();t.tagList.push({id:n,name:e}),oe.commit("saveTags")},saveTags:function(t){window.localStorage.setItem("tagList",JSON.stringify(t.tagList))}},actions:{},modules:{}}),ie=oe,ce=(a("157a"),a("5e46")),se=a("0b33"),ue=a("ac28"),le=a("b650"),fe=a("2ed4"),ve=a("a3e2"),de=a("565f"),pe=a("ad06"),be=a("6b41");n["a"].use(yt["a"]),n["a"].use(ce["a"]),n["a"].use(se["a"]),n["a"].use(ue["a"]),n["a"].use(le["a"]),n["a"].use(fe["a"]),n["a"].use(ve["a"]),n["a"].use(de["a"]),n["a"].use(pe["a"]),n["a"].use(be["a"]),n["a"].config.productionTip=!1,new n["a"]({router:te,store:ie,render:function(t){return t(u)}}).$mount("#app")},cd8d:function(t,e,a){"use strict";var n=a("e95b"),r=a.n(n);r.a},e0d2:function(t,e,a){},e95b:function(t,e,a){},f2d4:function(t,e,a){"use strict";var n=a("73b3"),r=a.n(n);r.a},fd0e:function(t,e,a){"use strict";var n=a("be12"),r=a.n(n);r.a}});
//# sourceMappingURL=app.e9152cc7.js.map